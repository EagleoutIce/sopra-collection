\newcounter{lst@lambda@calculus@brackets}
\colorlet{lst@lambda@calculus@brackets@0}{paletteA!60}
\colorlet{lst@lambda@calculus@brackets@1}{paletteB!60}
\colorlet{lst@lambda@calculus@brackets@2}{paletteC!60}
\colorlet{lst@lambda@calculus@brackets@3}{paletteD!60}
\colorlet{lst@lambda@calculus@brackets@4}{paletteA!50}
\colorlet{lst@lambda@calculus@brackets@5}{paletteB!50}
\colorlet{lst@lambda@calculus@brackets@6}{paletteC!50}
\colorlet{lst@lambda@calculus@brackets@7}{paletteD!50}
\colorlet{lst@lambda@calculus@brackets@8}{paletteA!60}
\colorlet{lst@lambda@calculus@brackets@9}{paletteB!60}
\colorlet{lst@lambda@calculus@brackets@10}{paletteC!60}
\colorlet{lst@lambda@calculus@brackets@11}{paletteD!60}
\colorlet{lst@lambda@calculus@brackets@12}{paletteA!50}
\colorlet{lst@lambda@calculus@brackets@13}{paletteC!50}
\colorlet{lst@lambda@calculus@brackets@14}{paletteD!50}
\lstdefinelanguage{lLambdaCalculus}{
   add to literate={:lambda:}{{{\ensuremath{\color{sol@colors@lst@keywordA}\pmb{\lambda}}}}}1
   % we want colorized brackets
   {(}{{{%
      \textcolor{lst@lambda@calculus@brackets@\arabic{lst@lambda@calculus@brackets}}{%
         $\mathbf{(}_{\textsf{\the\numexpr\c@lst@lambda@calculus@brackets+1\relax}}$%
      }\addtocounter{lst@lambda@calculus@brackets}{1}}}}1
   {)}{{{%
      \addtocounter{lst@lambda@calculus@brackets}{-1}\textcolor{lst@lambda@calculus@brackets@\arabic{lst@lambda@calculus@brackets}}{%
      $\mathbf{)}_{\textsf{\the\numexpr\c@lst@lambda@calculus@brackets+1\relax}}$}}}}1
   {:-alpha->:}{{{\ensuremath{\overset{\alpha}{\to}}}}}2
   {:-eta->:}{{{\ensuremath{\overset{\eta}{\to}}}}}2
   {:-beta5->:}{{{\ensuremath{\overset{\beta_5}{\to}}}}}2,
   moredelim=**[s][\itshape\@declaredcolor{gray}\solGet{literals}]{[}{]},
   breaklines=false % currently, listing can not literate closing braces if breaklines
}

\RegisterLanguage{lc}{lLambdaCalculus}